{{apis/rewrite-form model=rewriteModel collection=model.rewrites openModal=openModal}}

<table id="rewrites_table" class="table table-striped table-sm">
  <thead>
    <tr>
      <th style="width: 135px;">Matching Type</th>
      <th style="width: 125px;">HTTP Method</th>
      <th>From</th>
      <th>To</th>
      <th></th>
      <th class="reorder-handle"></th>
    </tr>
  </thead>
  <tbody>
    {{#if model.rewrites}}
      {{#each model.rewrites as |rewrite|}}
        <tr data-guid={{guid-for rewrite}}>
          <td>{{rewrite.matcherType}}</td>
          <td>{{rewrite.httpMethod}}</td>
          <td>{{rewrite.frontendMatcher}}</td>
          <td>{{rewrite.backendReplacement}}</td>
          <td class="table-row-actions">
            <a href="#" {{action "edit" rewrite}}>{{fa-icon "pencil-alt"}}{{t "Edit"}}</a>
            <a href="#" class="remove-action" {{action "remove" rewrite}}>{{fa-icon "times"}}{{t "Remove"}}</a>
          </td>
          <td class="reorder-handle">{{fa-icon "bars"}}</td>
        </tr>
      {{/each}}
    {{else}}
      <tr class="empty"><td colspan="6">{{t "No request rewrites have been added yet. Click \"%{add}\" below to get started." add=(t "Add Rewrite")}}</td></tr>
    {{/if}}
  </tbody>
</table>
<div class="row">
  <div class="col-6">
    <button type="button" class="btn btn-light btn-sm" {{action "add"}}>{{fa-icon "plus-circle"}} {{t "Add Rewrite"}}</button>
  </div>
  <div class="col-6 text-right">
    {{#if isReorderable}}
      <button type="button" id="rewrites_reorder" class="btn btn-light btn-sm" {{action "reorderCollection" "rewrites"}}>{{fa-icon "bars"}} <span class="reorder-button-text">{{t "Reorder"}}</span></button>
    {{/if}}
  </div>
</div>
