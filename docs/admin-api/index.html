<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>API Umbrella</title>
    <link href="../../stylesheets/all-eca34f2b.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Raleway:400,300,700" rel="stylesheet" type="text/css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-42866857-2', 'nrel.github.io');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
  <body class="docs docs_admin-api docs_admin-api_index">
    <div id="navigation" class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><i class="fa fa-umbrella"></i> <b>API Umbrella</b></a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class=""><a href="../../">Home</a></li>
            <li class="active"><a href="../">Documentation</a></li>
          </ul>
        </div>
      </div>
    </div>

    

      <div class="container">
    <div class="row">
      <nav class="col-md-3">
        <ul>
  <li class="">
    <a href="../architecture/">Architecture</a>
  </li>
  <li class="">
    <a href="../api-keys/">API Keys</a>
  </li>
  <li class="">
    <a href="../backend-headers/">Backend HTTP Headers</a>
  </li>
  <li class="">
    <a href="../caching/">Caching</a>
  </li>
</ul>

      </nav>
      <div class="col-md-9">
        <h1 id="api-umbrella-admin-api">API Umbrella Admin API</h1>

<p>The admin API is accessible via <code>/api-umbrella/v1</code>. In order to access this API, you must pass:</p>

<ul>
  <li>Your API key via one of the <a href="http://nrel.github.io/api-umbrella/docs/api-keys/">supported methods</a>.</li>
  <li><strong>AND</strong> an admin token via the <code>X-Admin-Auth-Token</code> header.</li>
</ul>

<p>To find the admin auth token for your admin account, login the web admin tool, and choose "My Account" under the top right gear menu. On that page, you should see your "Admin API Token" listed. Use this in conjunction with your normal API key to make requests to the admin APIs:</p>

<pre class="highlight http"><span class="err">X-Api-Key: YOUR_API_KEY_HERE
X-Admin-Auth-Token: YOUR_ADMIN_TOKEN_HERE
</span></pre>
<h1 id="group-users--api-keys">Group Users / API Keys</h1>

<h2 id="user-collection-api-umbrellav1users">User Collection [/api-umbrella/v1/users]</h2>

<h3 id="get-all-users-get">Get All Users [GET]</h3>
<p>TODO</p>

<h3 id="create-new-user-post">Create New User [POST]</h3>

<ul>
  <li>
    <p>Request</p>

    <ul>
      <li>
        <p>Headers</p>

<pre class="highlight plaintext">  Content-Type: application/json
  X-Api-Key: YOUR_API_KEY_HERE
  X-Admin-Auth-Token: YOUR_ADMIN_TOKEN_HERE
</pre>      </li>
      <li>
        <p>Body</p>

<pre class="highlight json"><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use_description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"terms_and_conditions"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"send_welcome_email"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"throttle_by_ip"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"roles"</span><span class="p">:[</span><span class="s2">"write_access"</span><span class="p">],</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"settings"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"rate_limit_mode"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_limits"</span><span class="p">:[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></pre>      </li>
    </ul>
  </li>
  <li>
    <p>Response 201</p>

    <ul>
      <li>
        <p>Headers</p>

<pre class="highlight plaintext">  Content-Type: application/json; charset=utf-8
</pre>      </li>
      <li>
        <p>Body</p>

<pre class="highlight json"><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"4339b882-1f7a-4f19-aa84-273c876a5f3d"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"api_key"</span><span class="p">:</span><span class="s2">"2gcg6Gvq4a2evmdp69AsS1I6v7x1KJYaMJQIhQ3D"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"api_key_hides_at"</span><span class="p">:</span><span class="s2">"2014-03-27T05:28:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"api_key_preview"</span><span class="p">:</span><span class="s2">"2gcg6G..."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"website"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use_description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"registration_source"</span><span class="p">:</span><span class="s2">"web_admin"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"throttle_by_ip"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"roles"</span><span class="p">:[</span><span class="s2">"write_access"</span><span class="p">],</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-03-27T05:18:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-03-27T05:18:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"settings"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"aa22932d-aecb-47a3-9ef3-806bf89e7a21"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_limit_mode"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_limits"</span><span class="p">:[</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"creator"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"admin@example.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"updater"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"admin@example.com"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></pre>      </li>
    </ul>
  </li>
  <li>
    <p>Response 422</p>

    <ul>
      <li>
        <p>Headers</p>

<pre class="highlight plaintext">  Content-Type: application/json; charset=utf-8
</pre>      </li>
      <li>
        <p>Body</p>

<pre class="highlight json"><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"Provide a valid email address."</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></pre>      </li>
    </ul>
  </li>
</ul>

<h2 id="user-api-umbrellav1usersid">User [/api-umbrella/v1/users/{id}]</h2>

<ul>
  <li>
    <p>Parameters</p>

    <ul>
      <li>id (required, string, <code>bc7e8a90-b569-11e3-a5e2-0800200c9a66</code>) … The user account ID</li>
    </ul>
  </li>
</ul>

<h3 id="get-user-get">Get User [GET]</h3>

<ul>
  <li>
    <p>Response 200</p>

    <ul>
      <li>
        <p>Headers</p>

<pre class="highlight plaintext">  Content-Type: application/json; charset=utf-8
</pre>      </li>
      <li>
        <p>Body</p>

<pre class="highlight json"><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"4339b882-1f7a-4f19-aa84-273c876a5f3d"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"api_key_preview"</span><span class="p">:</span><span class="s2">"2gcg6G..."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"website"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use_description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"registration_source"</span><span class="p">:</span><span class="s2">"web_admin"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"throttle_by_ip"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"roles"</span><span class="p">:[</span><span class="s2">"write_access"</span><span class="p">],</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-03-27T05:18:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-03-27T05:18:25Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"settings"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"aa22932d-aecb-47a3-9ef3-806bf89e7a21"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_limit_mode"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_limits"</span><span class="p">:[</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"creator"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"admin@example.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"updater"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"admin@example.com"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></pre>      </li>
    </ul>
  </li>
</ul>

<h3 id="update-user-put">Update User [PUT]</h3>

<ul>
  <li>
    <p>Request</p>

    <ul>
      <li>
        <p>Headers</p>

<pre class="highlight plaintext">  Content-Type: application/json
  X-Api-Key: YOUR_API_KEY_HERE
  X-Admin-Auth-Token: YOUR_ADMIN_TOKEN_HERE
</pre>      </li>
      <li>
        <p>Body</p>

<pre class="highlight json"><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></pre>      </li>
    </ul>
  </li>
  <li>
    <p>Response 200</p>

    <ul>
      <li>
        <p>Headers</p>

<pre class="highlight plaintext">  Content-Type: application/json; charset=utf-8
</pre>      </li>
      <li>
        <p>Body</p>

<pre class="highlight json"><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"422ed2fc-6e8d-456d-9253-4e0fe9735bdc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"api_key_preview"</span><span class="p">:</span><span class="s2">"upHYhK..."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"website"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use_description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"registration_source"</span><span class="p">:</span><span class="s2">"web_admin"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"throttle_by_ip"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"roles"</span><span class="p">:[</span><span class="s2">"write_access"</span><span class="p">],</span><span class="w">
      </span><span class="s2">"enabled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2014-03-27T05:23:41Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2014-03-27T05:39:44Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"settings"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"055fde68-0586-4780-a904-ba07df020cf1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_limit_mode"</span><span class="p">:</span><span class="err">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_limits"</span><span class="p">:[</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"creator"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"admin@example.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"updater"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"admin@example.com"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></pre>      </li>
    </ul>
  </li>
  <li>
    <p>Response 422</p>

    <ul>
      <li>
        <p>Headers</p>

<pre class="highlight plaintext">  Content-Type: application/json; charset=utf-8
</pre>      </li>
      <li>
        <p>Body</p>

<pre class="highlight json"><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"Provide a valid email address."</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></pre>      </li>
    </ul>
  </li>
</ul>

<h1 id="group-api-backends">Group API Backends</h1>

<h2 id="api-backend-collection-api-umbrellav1apis">API Backend Collection [/api-umbrella/v1/apis]</h2>

<h3 id="get-all-api-backends-get">Get All API Backends [GET]</h3>
<p>TODO</p>

<h3 id="create-new-api-backend-post">Create New API Backend [POST]</h3>

<h2 id="api-backend-api-umbrellav1apisid">API Backend [/api-umbrella/v1/apis/{id}]</h2>

<ul>
  <li>
    <p>Parameters</p>

    <ul>
      <li>id (required, string, <code>e5708670-b568-11e3-a5e2-0800200c9a66</code>) … The API backend ID</li>
    </ul>
  </li>
</ul>

<h3 id="get-api-backend-get">Get API Backend [GET]</h3>

<h3 id="update-api-backend-put">Update API Backend [PUT]</h3>

<h1 id="group-admin-accounts">Group Admin Accounts</h1>

<h2 id="admin-collection-api-umbrellav1admins">Admin Collection [/api-umbrella/v1/admins]</h2>

<h3 id="get-all-admins-get">Get All Admins [GET]</h3>
<p>TODO</p>

<h3 id="create-new-admin-post">Create New Admin [POST]</h3>

<h2 id="admin-api-umbrellav1adminsid">Admin [/api-umbrella/v1/admins/{id}]</h2>

<ul>
  <li>
    <p>Parameters</p>

    <ul>
      <li>id (required, string, <code>c3890fe0-b569-11e3-a5e2-0800200c9a66</code>) … The admin account ID</li>
    </ul>
  </li>
</ul>

<h3 id="get-admin-get">Get Admin [GET]</h3>

<h3 id="update-admin-put">Update Admin [PUT]</h3>


      </div>
    </div>
  </div>


    <script src="../../javascripts/all-5bf21b8f.js" type="text/javascript"></script>
  </body>
</html>
