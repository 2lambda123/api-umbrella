app_env: test
http_port: 9080
https_port: 9081
log_dir: /tmp/api-umbrella-test/var/log
run_dir: /tmp/api-umbrella-test/var/run
db_dir: /tmp/api-umbrella-test/var/db
redis:
  host: 127.0.0.1
  port: 9900
mongodb:
  url: "mongodb://127.0.0.1:9901/api_umbrella_test"
  embedded_server_config:
    port: 9901
elasticsearch:
  hosts:
    - "http://127.0.0.1:9902"
  embedded_server_config:
    http_port: 9902
    transport_tcp_port: 9903
apis:
  - _id: down
    frontend_host: localhost
    backend_host: localhost
    servers:
      - host: 127.0.0.1
        port: 9450
    url_matches:
      - frontend_prefix: /down
        backend_prefix: /down
  - _id: keepalive
    frontend_host: localhost
    backend_host: localhost
    servers:
      - host: 127.0.0.1
        port: 9445
    url_matches:
      - frontend_prefix: /keepalive9445/
        backend_prefix: /keepalive9445/
    rate_limit_mode: unlimited
  - _id: keepalive2
    frontend_host: localhost
    backend_host: localhost
    servers:
      - host: 127.0.0.1
        port: 9446
    url_matches:
      - frontend_prefix: /keepalive9446/
        backend_prefix: /keepalive9446/
    rate_limit_mode: unlimited
    keepalive_connections: 3
  - _id: keepalive3
    frontend_host: localhost
    backend_host: localhost
    servers:
      - host: 127.0.0.1
        port: 9447
    url_matches:
      - frontend_prefix: /keepalive9447/
        backend_prefix: /keepalive9447/
    rate_limit_mode: unlimited
  - _id: example
    frontend_host: localhost
    backend_host: localhost
    servers:
      - host: 127.0.0.1
        port: 9444
    url_matches:
      - frontend_prefix: /
        backend_prefix: /
