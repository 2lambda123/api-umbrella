backend api_dol_farm
  # Strip /dol from the beginning of the request URL before the receiving
  # backend application sees the request.
  #
  # Turns a request from "GET /dol/something" to "GET /something"
  reqirep ^([^\ ]*)\ /dol(/.*) \1\ \2

  # Add a unique API key for accessing developer.nrel.gov content.
  #
  # Append the new KEY as an additional query parameter.
  reqirep ^([^\ ]*)\ (.*\?.*)\ (.*) \1\ \2&KEY=9f54ed13-2052-4764-b26a-0232e0f50247\ \3
  # Append the new KEY as the only query parameter.
  reqirep ^([^\ ]*)\ ([^\?]*)\ (.*) \1\ \2?KEY=9f54ed13-2052-4764-b26a-0232e0f50247\ \3

  # Modify the host.
  reqirep ^Host: Host:\ api.dol.gov

  balance roundrobin
  server api_dol1 api.dol.gov:80
