[
  {
    "id": "api-umbrella-template",
    "template": {
      "template": "api-umbrella",
      "mappings": {
        "city": {
          "_all": {
            "enabled": false
          },
          "properties": {
            "updated_at": {
              "type": "date"
            },
            "country": {
              "type": "string",
              "index": "not_analyzed"
            },
            "region": {
              "type": "string",
              "index": "not_analyzed"
            },
            "city": {
              "type": "string",
              "index": "not_analyzed"
            },
            "location": {
              "type": "geo_point",
              "lat_lon": true
            }
          }
        }
      }
    }
  },
  {
    "id": "api-umbrella-log-v2-template",
    "template": {
      "template": "api-umbrella-logs-v2-*",
      "settings": {
        "index": {
          "number_of_shards": 3
        },
        "analysis": {
          "analyzer": {
            "keyword_lowercase": {
              "type": "custom",
              "tokenizer": "keyword",
              "filter": ["lowercase"]
            },
            "path_hierarchy_lowercase": {
              "type": "custom",
              "tokenizer": "path_hierarchy",
              "filter": ["lowercase"]
            }
          }
        }
      },
      "mappings": {
        "log": {
          "_all": {
            "enabled": false
          },
          "dynamic": "strict",
          "properties": {
            "api_key": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "gatekeeper_denied_code": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_accept": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_accept_encoding": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_at": {
              "type": "date",
              "doc_values": true
            },
            "request_basic_auth_username": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_connection": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_content_type": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_hierarchy": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_host": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_ip": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_ip_city": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_ip_country": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_ip_location": {
              "type": "geo_point",
              "lat_lon": true,
              "doc_values": true
            },
            "request_ip_region": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_method": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_origin": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_path": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_path_hierarchy": {
              "type": "string",
              "analyzer": "path_hierarchy_lowercase",
              "doc_values": false
            },
            "request_referer": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_scheme": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_size": {
              "type": "integer",
              "doc_values": true
            },
            "request_url": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_user_agent": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_user_agent_family": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "request_user_agent_type": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "response_age": {
              "type": "integer",
              "doc_values": true
            },
            "response_cache": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "response_content_encoding": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "response_content_length": {
              "type": "integer",
              "doc_values": true
            },
            "response_content_type": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "response_server": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "response_size": {
              "type": "integer",
              "doc_values": true
            },
            "response_status": {
              "type": "short",
              "doc_values": true
            },
            "response_time": {
              "type": "integer",
              "doc_values": true
            },
            "response_transfer_encoding": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            },
            "user_id": {
              "type": "string",
              "index": "not_analyzed",
              "doc_values": true
            }
          }
        }
      }
    }
  }
]
